-- Drop tables if they exist (for fresh start)
DROP TABLE IF EXISTS tasks;
DROP TABLE IF EXISTS users;

-- Create users table
CREATE TABLE users (
    username VARCHAR(50) PRIMARY KEY,
    password VARCHAR(100) NOT NULL,
    role VARCHAR(20) NOT NULL CHECK (role IN ('USER', 'VALIDATOR', 'ADMIN'))
);

-- Create tasks table
CREATE TABLE tasks (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    priority VARCHAR(20) NOT NULL CHECK (priority IN ('LOW', 'MEDIUM', 'HIGH')),
    due_date TIMESTAMP NOT NULL,
    is_completed BOOLEAN NOT NULL DEFAULT FALSE,
    is_deleted BOOLEAN NOT NULL DEFAULT FALSE,
    created_date TIMESTAMP NOT NULL,
    created_by VARCHAR(50) NOT NULL,
    updated_by VARCHAR(50),
    last_updated_on TIMESTAMP
);

-- Insert default users
INSERT INTO users (username, password, role) VALUES
('admin', '$2b$12$Ik7msG9PZobbtm23JmH8k.v/qpjBO3jcT/91ILTexQ4X8F5RcvyR.', 'ADMIN'),
('validator', '$2b$12$U6tKsYReJYCwcdtv2BFy0uIxVDMXtm1.SilGMwTeO0k8h2EBbhno.', 'VALIDATOR'),
('john', '$2b$12$3sUjTgr0bOJ/LXL2CpmVseKC8QvoAdnqNs28TtanUOHZJyud39cH6', 'USER');

-- Insert default tasks
INSERT INTO tasks (title, description, priority, due_date, is_completed, is_deleted, created_by, created_date) VALUES
('1) Set Up CI/CD',           'Create Angular components for task display',   'HIGH',   '2025-06-18', false, false, 'admin', '2025-06-15'),
('2) Style UI Components',     'Define PostgreSQL schema and relationships',   'MEDIUM', '2025-06-17', false, false, 'admin', '2025-06-18'),
('3) Optimize Queries',        'Add JWT-based security',                       'LOW',    '2025-06-22', false, false, 'admin', '2025-06-17'),
('4) Initialize Backend',      'Define PostgreSQL schema and relationships',   'MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-17'),
('5) Create User Roles',       'Use Tailwind for styling',                     'LOW',    '2025-06-16', false, false, 'admin', '2025-06-15'),
('6) Build Frontend UI',       'Create Angular components for task display',   'LOW',    '2025-06-27', false, false, 'admin', '2025-06-14'),
('7) Build Frontend UI',       'Ensure 90% test coverage',                     'HIGH',   '2025-06-27', false, false, 'admin', '2025-06-17'),
('8) Style UI Components',     'Use Tailwind for styling',                     'LOW',    '2025-06-22', false, false, 'admin', '2025-06-16'),
('9) Initialize Backend',      'Ensure 90% test coverage',                     'LOW',    '2025-06-27', false, false, 'admin', '2025-06-13'),
('10) Initialize Backend',     'Use Tailwind for styling',                     'LOW',    '2025-06-26', false, false, 'admin', '2025-06-13'),
('11) Optimize Queries',       'Use Tailwind for styling',                     'MEDIUM', '2025-06-18', false, false, 'admin', '2025-06-16'),
('12) Style UI Components',    'Add JWT-based security',                       'LOW',    '2025-06-17', false, false, 'admin', '2025-06-18'),
('13) Connect APIs',           'Create Angular components for task display',   'MEDIUM', '2025-06-21', false, false, 'admin', '2025-06-17'),
('14) Style UI Components',    'Add JWT-based security',                       'HIGH',   '2025-06-22', false, false, 'admin', '2025-06-13'),
('15) Set Up CI/CD',           'Use Tailwind for styling',                     'HIGH',   '2025-06-14', false, false, 'admin', '2025-06-18'),
('16) Create User Roles',      'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-13'),
('17) Connect APIs',           'Implement RESTful endpoints',                  'LOW',    '2025-06-16', false, false, 'admin', '2025-06-13'),
('18) Set Up CI/CD',           'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-16', false, false, 'admin', '2025-06-13'),
('19) Optimize Queries',       'Define PostgreSQL schema and relationships',   'MEDIUM', '2025-06-18', false, false, 'admin', '2025-06-13'),
('20) Initialize Backend',     'Improve SQL performance',                      'LOW',    '2025-06-17', false, false, 'admin', '2025-06-13'),
('21) Initialize Backend',     'Ensure 90% test coverage',                     'HIGH',   '2025-06-17', false, false, 'admin', '2025-06-13'),
('22) Write Unit Tests',       'Improve SQL performance',                      'LOW',    '2025-06-20', false, false, 'admin', '2025-06-17'),
('23) Initialize Backend',     'Implement RESTful endpoints',                  'LOW',    '2025-06-27', false, false, 'admin', '2025-06-16'),
('24) Implement Auth',         'Establish RBAC rules',                         'HIGH',   '2025-06-19', false, false, 'admin', '2025-06-18'),
('25) Write Unit Tests',       'Set up Spring Boot structure and dependencies','LOW',    '2025-06-23', false, false, 'admin', '2025-06-16'),
('26) Style UI Components',    'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-17'),
('27) Connect APIs',           'Establish RBAC rules',                         'HIGH',   '2025-06-22', false, false, 'admin', '2025-06-16'),
('28) Write Unit Tests',       'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-18', false, false, 'admin', '2025-06-17'),
('29) Set Up CI/CD',           'Implement RESTful endpoints',                  'LOW',    '2025-06-21', false, false, 'admin', '2025-06-16'),
('30) Write Unit Tests',       'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-23', false, false, 'admin', '2025-06-16'),
('31) Initialize Backend',     'Use Tailwind for styling',                     'MEDIUM', '2025-06-19', false, false, 'admin', '2025-06-14'),
('32) Set Up CI/CD',           'Use Tailwind for styling',                     'HIGH',   '2025-06-24', false, false, 'admin', '2025-06-16'),
('33) Connect APIs',           'Improve SQL performance',                      'LOW',    '2025-06-25', false, false, 'admin', '2025-06-13'),
('34) Connect APIs',           'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-14'),
('35) Build Frontend UI',      'Implement RESTful endpoints',                  'HIGH',   '2025-06-21', false, false, 'admin', '2025-06-13'),
('36) Create User Roles',      'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-20', false, false, 'admin', '2025-06-16'),
('37) Build Frontend UI',      'Define PostgreSQL schema and relationships',   'LOW',    '2025-06-16', false, false, 'admin', '2025-06-16'),
('38) Implement Auth',         'Create Angular components for task display',   'LOW',    '2025-06-18', false, false, 'admin', '2025-06-18'),
('39) Design Database',        'Use Tailwind for styling',                     'LOW',    '2025-06-21', false, false, 'admin', '2025-06-18'),
('40) Write Unit Tests',       'Create Angular components for task display',   'HIGH',   '2025-06-14', false, false, 'admin', '2025-06-13'),
('41) Initialize Backend',     'Define PostgreSQL schema and relationships',   'MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-16'),
('42) Connect APIs',           'Add JWT-based security',                       'MEDIUM', '2025-06-25', false, false, 'admin', '2025-06-16'),
('43) Optimize Queries',       'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-15', false, false, 'admin', '2025-06-18'),
('44) Design Database',        'Add JWT-based security',                       'LOW',    '2025-06-22', false, false, 'admin', '2025-06-13'),
('45) Initialize Backend',     'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-27', false, false, 'admin', '2025-06-17'),
('46) Optimize Queries',       'Implement RESTful endpoints',                  'LOW',    '2025-06-17', false, false, 'admin', '2025-06-18'),
('47) Initialize Backend',     'Establish RBAC rules',                         'MEDIUM', '2025-06-22', false, false, 'admin', '2025-06-17'),
('48) Optimize Queries',       'Improve SQL performance',                      'HIGH',   '2025-06-19', false, false, 'admin', '2025-06-16'),
('49) Implement Auth',         'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-20', false, false, 'admin', '2025-06-14'),
('50) Optimize Queries',       'Configure Jenkins for CI/CD',                  'MEDIUM', '2025-06-18', false, false, 'admin', '2025-06-15'),
('51) Design Database',        'Establish RBAC rules',                         'HIGH',   '2025-06-24', false, false, 'admin', '2025-06-18'),
('52) Create User Roles',      'Improve SQL performance',                      'HIGH',   '2025-06-23', false, false, 'admin', '2025-06-16'),
('53) Design Database',        'Implement RESTful endpoints',                  'LOW',    '2025-06-20', false, false, 'admin', '2025-06-17'),
('54) Set Up CI/CD',           'Create Angular components for task display',   'HIGH',   '2025-06-16', false, false, 'admin', '2025-06-17'),
('55) Implement Auth',         'Create Angular components for task display',   'MEDIUM', '2025-06-25', false, false, 'admin', '2025-06-17'),
('56) Write Unit Tests',       'Configure Jenkins for CI/CD',                  'LOW',    '2025-06-18', false, false, 'admin', '2025-06-13'),
('57) Write Unit Tests',       'Use Tailwind for styling',                     'LOW',    '2025-06-23', false, false, 'admin', '2025-06-17'),
('58) Optimize Queries',       'Ensure 90% test coverage',                     'LOW',    '2025-06-14', false, false, 'admin', '2025-06-15'),
('59) Build Frontend UI',      'Implement RESTful endpoints',                  'MEDIUM', '2025-06-17', false, false, 'admin', '2025-06-16'),
('60) Initialize Backend',     'Create Angular components for task display',   'MEDIUM', '2025-06-23', false, false, 'admin', '2025-06-16'),
('61) Build Frontend UI',      'Set up Spring Boot structure and dependencies','LOW',    '2025-06-25', false, false, 'admin', '2025-06-18'),
('62) Connect APIs',           'Ensure 90% test coverage',                     'MEDIUM', '2025-06-20', false, false, 'admin', '2025-06-18'),
('63) Implement Auth',         'Implement RESTful endpoints',                  'HIGH',   '2025-06-18', false, false, 'admin', '2025-06-15'),
('64) Design Database',        'Configure Jenkins for CI/CD',                  'HIGH',   '2025-06-20', false, false, 'admin', '2025-06-18'),
('65) Create User Roles',      'Set up Spring Boot structure and dependencies','LOW',    '2025-06-16', false, false, 'admin', '2025-06-14'),
('66) Write Unit Tests',       'Improve SQL performance',                      'MEDIUM', '2025-06-22', false, false, 'admin', '2025-06-15'),
('67) Style UI Components',    'Set up Spring Boot structure and dependencies','MEDIUM', '2025-06-16', false, false, 'admin', '2025-06-17'),
('68) Set Up CI/CD',           'Ensure 90% test coverage',                     'MEDIUM', '2025-06-25', false, false, 'admin', '2025-06-17'),
('69) Optimize Queries',       'Configure Jenkins for CI/CD',                  'HIGH',   '2025-06-14', false, false, 'admin', '2025-06-17'),
('70) Connect APIs',           'Implement RESTful endpoints',                  'HIGH',   '2025-06-19', false, false, 'admin', '2025-06-16'),
('71) Write Unit Tests',       'Implement RESTful endpoints',                  'MEDIUM', '2025-06-27', false, false, 'admin', '2025-06-15'),
('72) Connect APIs',           'Create Angular components for task display',   'MEDIUM', '2025-06-22', false, false, 'admin', '2025-06-13'),
('73) Style UI Components',    'Create Angular components for task display',   'MEDIUM', '2025-06-19', false, false, 'admin', '2025-06-15'),
('74) Implement Auth',         'Implement RESTful endpoints',                  'HIGH',   '2025-06-20', false, false, 'admin', '2025-06-13'),
('75) Set Up CI/CD',           'Improve SQL performance',                      'LOW',    '2025-06-26', false, false, 'admin', '2025-06-15'),
('76) Write Unit Tests',       'Set up Spring Boot structure and dependencies','HIGH',   '2025-06-22', false, false, 'admin', '2025-06-17'),
('77) Write Unit Tests',       'Define PostgreSQL schema and relationships',   'LOW',    '2025-06-16', false, false, 'admin', '2025-06-16'),
('78) Create User Roles',      'Implement RESTful endpoints',                  'HIGH',   '2025-06-14', false, false, 'admin', '2025-06-13'),
('79) Design Database',        'Define PostgreSQL schema and relationships',   'LOW',    '2025-06-19', false, false, 'admin', '2025-06-17'),
('80) Build Frontend UI',      'Create Angular components for task display',   'HIGH',   '2025-06-21', false, false, 'admin', '2025-06-18'),
('81) Style UI Components',    'Define PostgreSQL schema and relationships',   'LOW',    '2025-06-26', false, false, 'admin', '2025-06-17'),
('82) Build Frontend UI',      'Improve SQL performance',                      'HIGH',   '2025-06-20', false, false, 'admin', '2025-06-15'),
('83) Write Unit Tests',       'Implement RESTful endpoints',                  'MEDIUM', '2025-06-21', false, false, 'admin', '2025-06-13'),
('84) Build Frontend UI',      'Establish RBAC rules',                         'HIGH',   '2025-06-20', false, false, 'admin', '2025-06-16'),
('85) Create User Roles',      'Define PostgreSQL schema and relationships',   'LOW',    '2025-06-15', false, false, 'admin', '2025-06-18'),
('86) Implement Auth',         'Add JWT-based security',                       'MEDIUM', '2025-06-24', false, false, 'admin', '2025-06-13'),
('87) Style UI Components',    'Implement RESTful endpoints',                  'MEDIUM', '2025-06-22', false, false, 'admin', '2025-06-14'),
('88) Write Unit Tests',       'Set up Spring Boot structure and dependencies','HIGH',   '2025-06-26', false, false, 'admin', '2025-06-13'),
('89) Set Up CI/CD',           'Implement RESTful endpoints',                  'HIGH',   '2025-06-26', false, false, 'admin', '2025-06-13'),
('90) Design Database',        'Ensure 90% test coverage',                     'LOW',    '2025-06-25', false, false, 'admin', '2025-06-16'),
('91) Write Unit Tests',       'Configure Jenkins for CI/CD',                  'LOW',    '2025-06-24', false, false, 'admin', '2025-06-17'),
('92) Connect APIs',           'Set up Spring Boot structure and dependencies','HIGH',   '2025-06-14', false, false, 'admin', '2025-06-15'),
('93) Connect APIs',           'Improve SQL performance',                      'LOW',    '2025-06-15', false, false, 'admin', '2025-06-13'),
('94) Initialize Backend',     'Establish RBAC rules',                         'HIGH',   '2025-06-16', false, false, 'admin', '2025-06-16'),
('95) Write Unit Tests',       'Implement RESTful endpoints',                  'MEDIUM', '2025-06-26', false, false, 'admin', '2025-06-17'),
('96) Implement Auth',         'Implement RESTful endpoints',                  'LOW',    '2025-06-17', false, false, 'admin', '2025-06-15'),
('97) Optimize Queries',       'Create Angular components for task display',   'LOW',    '2025-06-27', false, false, 'admin', '2025-06-14'),
('98) Style UI Components',    'Use Tailwind for styling',                     'MEDIUM', '2025-06-26', false, false, 'admin', '2025-06-15'),
('99) Write Unit Tests',       'Improve SQL performance',                      'LOW',    '2025-06-14', false, false, 'admin', '2025-06-18'),
('100) Design Database',       'Establish RBAC rules',                         'HIGH',   '2025-06-20', false, false, 'admin', '2025-06-13');
